<app-toolbar (navToggleChange)="toggleNav($event)" [opened]="opened" [currentTitle]="toolbarTitle"></app-toolbar>

<app-loading-spinner [showSpinner]="showSpinner"></app-loading-spinner>

<mat-sidenav-container>
    <mat-sidenav mode="over" [(opened)]="opened">
      <mat-nav-list>
        <a mat-list-item><h3>{{username}}</h3></a>
        <a mat-list-item (click)="routeTo('profile')" routerLinkActive="active">Profile</a>
        <a mat-list-item (click)="routeTo('campaign')" routerLinkActive="active">My Campaigns</a>
        <a mat-list-item (click)="routeTo('characters')" routerLinkActive="active">My Characters</a>
        <hr/>
        <div *ngIf="selectedCampaign !== ''">
          <a mat-list-item><h3>{{selectedCampaign}}</h3></a>
          <a mat-list-item (click)="routeTo('campaign')" routerLinkActive="active">Summary</a>
          <a mat-list-item (click)="routeTo('journal')" routerLinkActive="active">Journal</a>
          <a mat-list-item (click)="routeTo('characters')" routerLinkActive="active">Characters</a>
        </div>
        <div *ngIf="isAdmin">
          <a mat-list-item><h3>Dungeon Master</h3></a>
          <a mat-list-item (click)="routeTo('dmaster')">Management</a>
          <a mat-list-item (click)="routeTo('dmaster/users')">Users</a>
        </div>
      </mat-nav-list>
    </mat-sidenav>
    <mat-sidenav-content>
      <router-outlet></router-outlet>
    </mat-sidenav-content>
</mat-sidenav-container>